import matplotlib.pyplot as plt\nimport matplotlib.patches as patches\n\n# Create figure and axis\nfig, ax = plt.subplots(figsize=(10, 10))\n\n# Add a schedule trigger node\nax.text(0.5, 0.9, 'Schedule Trigger\n(Every 4 Hours)', ha='center', va='center', fontsize=12, bbox=dict(boxstyle='round,pad=0.5', edgecolor='black', facecolor='lightblue'))\n\n# Add nodes for the architecture\nnode_coords = {\n    'Extract Node': (0.5, 0.8),\n    'Get Recent DQ Issues': (0.5, 0.7),\n    'Load Node': (0.5, 0.6),\n    'AI Summarize (Ollama)': (0.5, 0.5),\n    'DQ Checks\n(Missing Emails, Suspicious Payments)': (0.5, 0.40),\n    'Log Issues': (0.3, 0.25),\n    'Count Issues': (0.7, 0.25),\n    'Decision Node': (0.5, 0.15),\n    'Send Alert Email': (0.5, 0.05)\n}\n\nfor node, coord in node_coords.items():\n    ax.text(coord[0], coord[1], node, ha='center', va='center', fontsize=12, bbox=dict(boxstyle='round,pad=0.5', edgecolor='black', facecolor='lightgreen'))\n\n# Draw connections between the nodes\nconnections = [\n    ('Schedule Trigger', 'Extract Node'),\n    ('Extract Node', 'Get Recent DQ Issues'),\n    ('Get Recent DQ Issues', 'Load Node'),\n    ('Load Node', 'AI Summarize (Ollama)'),\n    ('AI Summarize (Ollama)', 'DQ Checks\n(Missing Emails, Suspicious Payments)'),\n    ('DQ Checks\n(Missing Emails, Suspicious Payments)', 'Log Issues'),\n    ('DQ Checks\n(Missing Emails, Suspicious Payments)', 'Count Issues'),\n    ('Log Issues', 'Decision Node'),\n    ('Count Issues', 'Decision Node'),\n    ('Decision Node', 'Send Alert Email')\n]\n\nfor start, end in connections:\n    start_coord = node_coords[start]\n    end_coord = node_coords[end]\n    ax.annotate('', xy=end_coord, xycoords='data', xytext=start_coord, textcoords='data', arrowprops=dict(arrowstyle='->', lw=1.5))\n\n# Add the PostgreSQL Database section\nax.text(0.5, 0.1, 'PostgreSQL Database\n(tables: customer, payment,\ncustomer_revenue_summary,\ndata_quality_issues)', ha='center', va='center', fontsize=12, bbox=dict(boxstyle='round,pad=0.5', edgecolor='black', facecolor='lightyellow'))\n\n# Add external integrations\nax.text(0.5, -0.05, 'External Integrations\n(Gmail OAuth2, Ollama/Llama3 API, PostgreSQL)', ha='center', va='center', fontsize=12, bbox=dict(boxstyle='round,pad=0.5', edgecolor='black', facecolor='lightcoral'))\n\n# Configuring the plot\nax.set_xlim(0, 1)\nax.set_ylim(-0.2, 1)\nax.axis('off') # hide axes\n\n# Save the figure as a JPG file with 300 DPI\nplt.savefig('Healthcare_DQ_Architecture_Diagram.jpg', format='jpg', dpi=300, bbox_inches='tight', quality=95)\nplt.show()\n